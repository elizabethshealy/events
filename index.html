<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Appointments</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/defaults.css">
    <link rel="stylesheet" href="css/events.css">

  </head>
  <body>
    <main class="main-content">
    </main>

    <script id="event-edit" type="text/html">
      <header class="page-header">
        <a class="secondary-action page-action" href="#events">&larr;</a>
        <h1 class="page-title"><%- m.title %></h1>
      </header>

      <form class="event-form stack-form page-content">
        <div class="form-field">
          <input name="id" type="text" placeholder="event id" value="<%- m.event.id %>"
            autofocus
            required
            pattern="[a-zA-Z0-9]+[a-zA-Z0-9\-]*"
            data-parsley-error-message="Ids must be alphanumeric">
        </div>
        <div class="form-field">
          <input name="name" type="text" placeholder="event name" value="<%- m.event.name %>"
            pattern="[\w]+\W[\w]+" required
            data-parsley-error-message="Full name is required">
        </div>
        <div class="form-field">
          <input name="street" type="text" placeholder="street address" value="<%- m.event.street %>" required>
        </div>

        <div class="form-field">
          <input name="city" type="text" placeholder="city" value="<%- m.event.city %>" required>
        </div>

        <div class="form-field">
          <input name="state" type="text" placeholder="state" value="<%- m.event.state %>" required>
        </div>

        <div class="form-field">
          <input name="zip" type="text" placeholder="zip" value="<%- m.event.zip %>" required>
        </div>

        <div class="datepicker">
          <input name = "input_from" type = "text" placeholder="date from" required>
        </div>

        <div class="datepicker">
          <input name = "input_to" type = "text" placeholder="date to" required>
        </div>

        <div class="form-field">
          <button class="btn btn-primary">Save</button>
        </div>

        <% if (m.isDeletable) { %>
          <div class="form-field">
            <button class="delete-event btn btn-warning" type="button">Delete</button>
          </div>
        <% } %>
      </form>
    </script>

    <script id="404" type="text/html">
      <header clss="page-header">
        <h1 class="page-title">404 not found</h1>
      </header>
      <div class="page-content stack-form">
        <a href="#events" class="btn btn-primary">View all events</a>
      </div>
    </script>

    <script id="event-list" type="text/html">
      <header class="page-header">
        <a class="primary-action page-action" href="#events/new">+</a>
        <h1 class="page-title">events</h1>
      </header>

      <ul class="event-list page-content">
        <% _.chain(m.events.values).sortBy('name').forEach(function (event) { %>
        <li class="event">
          <a class="event-link" href="#events/<%- event.id%>/edit">
            <span class="event-name"><%- event.name %></span>
            <span class="event-street"><%- event.street %></span>
            <span class="event-city"><%- event.city %></span>
            <span class="event-state"><%- event.state %></span>
            <span class="event-zip"><%- event.zip %></span>
          </a>
        </li>
        <% }) %>
      </ul>

      

    </script>

    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/jquery-ui/jquery-ui.min.js"></script>
    <script src="bower_components/underscore/underscore-min.js"></script>
    <script src="bower_components/backbone/backbone-min.js"></script>
    <script src="bower_components/parsleyjs/dist/parsley.min.js"></script>
    <script src="bower_components/pickadate/lib/picker.date.js"></script>
    <script src="bower_components/pickadate/lib/picker.js"></script>
    <script src="bower_components/jquery-ui/ui/datepicker.js"></script>


    <script src="js/app.js"></script>
    <script src="js/ajax.js"></script>
    <script src="js/router.js"></script>
    <script src="js/goto.js"></script>
    <script src="js/show.js"></script>
    <script src="js/event.js"></script>
    <script src="js/serialize-form.js"></script>
    <script src="js/object-store.js"></script>
    <script src="js/events-controller.js"></script>
    <script src="js/events-edit-controller.js"></script>
    <script src="js/events-new-controller.js"></script>
    <script src="js/init.js"></script>
    <script src="js/datepicker.js"></script>


  </body>
</html>
